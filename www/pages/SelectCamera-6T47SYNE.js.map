{
  "version": 3,
  "sources": ["../../front/src/pages/SelectCamera.js"],
  "sourcesContent": ["import { getPreferredVideoDevice } from '../components/camerainfo'\n\nlet gotoPage = window.MHR.gotoPage\nlet goHome = window.MHR.goHome\nlet storage = window.MHR.storage\nlet log = window.MHR.log\n\nwindow.MHR.register(\"SelectCamera\", class extends window.MHR.AbstractPage {\n\n    constructor(id) {\n        super(id)\n    }\n\n    async enter() {\n        let html = this.html\n\n        try {\n            var preferredVideoDevices = await getPreferredVideoDevice()\n            if (preferredVideoDevices.videoDevices.length == 0) {\n                this.render(html`<p>No camera available</p>`)\n                return;\n            }\n\n            var videoDevices = preferredVideoDevices.videoDevices\n\n        } catch (error) {\n            this.render(html`<p>No camera available</p>`)\n            return;\n        }\n\n        let theHtml = html`\n        <ion-list class=\"w3-container\">\n            <ion-list-header>\n            <ion-label>Select a camera</ion-label>\n            </ion-list-header>\n            ${videoDevices.map((camera) =>\n                html`<ion-item button @click=${() => this.setCamera(camera.deviceId)}><ion-label>\n                <div class=\"text-larger\">${camera.label}</div></a>\n                </ion-label></ion-item>`\n            )}\n        </ion-list>`\n        this.render(theHtml)\n    }\n\n    async setCamera(cameraID) {\n        window.selectedCamera = cameraID\n        localStorage.setItem(\"selectedCamera\", cameraID)\n        goHome()\n    }\n\n})\n"],
  "mappings": ";;;;;;AAEA,IAAI,WAAW,OAAO,IAAI;AAC1B,IAAI,SAAS,OAAO,IAAI;AACxB,IAAI,UAAU,OAAO,IAAI;AACzB,IAAI,MAAM,OAAO,IAAI;AAErB,OAAO,IAAI,SAAS,gBAAgB,cAAc,OAAO,IAAI,aAAa;AAAA,EAEtE,YAAY,IAAI;AACZ,UAAM,EAAE;AAAA,EACZ;AAAA,EAEA,MAAM,QAAQ;AACV,QAAI,OAAO,KAAK;AAEhB,QAAI;AACA,UAAI,wBAAwB,MAAM,wBAAwB;AAC1D,UAAI,sBAAsB,aAAa,UAAU,GAAG;AAChD,aAAK,OAAO,gCAAgC;AAC5C;AAAA,MACJ;AAEA,UAAI,eAAe,sBAAsB;AAAA,IAE7C,SAAS,OAAO;AACZ,WAAK,OAAO,gCAAgC;AAC5C;AAAA,IACJ;AAEA,QAAI,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,cAKR,aAAa;AAAA,MAAI,CAAC,WAChB,+BAA+B,MAAM,KAAK,UAAU,OAAO,QAAQ,CAAC;AAAA,2CACzC,OAAO,KAAK;AAAA;AAAA,IAE3C,CAAC;AAAA;AAEL,SAAK,OAAO,OAAO;AAAA,EACvB;AAAA,EAEA,MAAM,UAAU,UAAU;AACtB,WAAO,iBAAiB;AACxB,iBAAa,QAAQ,kBAAkB,QAAQ;AAC/C,WAAO;AAAA,EACX;AAEJ,CAAC;",
  "names": []
}
